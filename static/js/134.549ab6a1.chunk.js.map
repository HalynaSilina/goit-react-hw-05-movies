{"version":3,"file":"static/js/134.549ab6a1.chunk.js","mappings":"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","sources":["Api-service/ApiService.js","pages/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '6162be73d8284a514c6daa14bf64a77d';\n\nexport async function fetchTrendingMovies() {\n  return await fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\nexport async function fetchById(id) {\n  return await fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\nexport async function fetchByQuery (query) {\n  return await fetch(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=1`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\n\nexport async function fetchCredits (id) {\n  return await fetch(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\nexport async function fetchReviews (id) {\n  return await fetch(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}","import { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { fetchByQuery } from 'Api-service/ApiService';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchedMovies, setSearchedMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('searchQuery') ?? '';\n  useEffect(() => {\n    if (searchQuery === '') return;\n\n    async function fetchMovie() {\n      try {\n        await fetchByQuery(searchQuery).then(data => setSearchedMovies(data.results));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchMovie();\n  }, [searchQuery]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ searchQuery: form.elements.query.value });\n  };\n  console.log(searchedMovies);\n  return (\n    <div>\n      <h1>Movies</h1>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {searchedMovies.length > 0 && (\n        <ul>\n          {searchedMovies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link to={`${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["BASE_URL","API_KEY","fetchTrendingMovies","fetch","then","res","ok","Promise","reject","Error","json","fetchById","id","fetchByQuery","query","fetchCredits","fetchReviews","location","useLocation","useState","searchedMovies","setSearchedMovies","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","data","results","console","log","fetchMovie","onSubmit","e","preventDefault","form","currentTarget","elements","value","type","name","length","map","movie","to","state","from","title","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","error","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}