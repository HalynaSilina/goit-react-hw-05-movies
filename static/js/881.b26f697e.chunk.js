"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{510:function(e,t,n){n.d(t,{Bt:function(){return _},Hq:function(){return h},d5:function(){return m},h_:function(){return p},wr:function(){return i}});var r=n(861),c=n(757),s=n.n(c),a="https://api.themoviedb.org/3",o="6162be73d8284a514c6daa14bf64a77d";function i(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/trending/movie/day?api_key=").concat(o)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/movie/").concat(t,"?api_key=").concat(o)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&page=1")).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/movie/").concat(t,"/credits?api_key=").concat(o)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/movie/").concat(t,"/reviews?api_key=").concat(o)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},196:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(87),c="GalleryItem_gallery__item__qM0sr",s="GalleryItem_item__title__HkyWk",a="GalleryItem_info__kHDot",o="GalleryItem_item__details__jKScA",i=n(184),u=function(e){var t=e.rating,n=e.release,u=e.state,p=e.id,l=e.poster,h=e.title,f=e.overview;return(0,i.jsxs)("li",{className:c,children:[(0,i.jsx)(r.rU,{to:"".concat(p),state:u,children:(0,i.jsx)("article",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(l),alt:h}),(0,i.jsx)("p",{className:s,children:h}),(0,i.jsxs)("div",{className:a,children:[(0,i.jsxs)("p",{children:["Rating: ",t]}),(0,i.jsxs)("p",{children:["Release date: ",n]})]})]})})}),(0,i.jsxs)("details",{className:o,children:[(0,i.jsx)("summary",{children:"Overview"}),f]})]})},p="Gallery_gallery__RNraJ",l=function(e){var t=e.movies,n=e.state;return(0,i.jsx)("ul",{className:p,children:t.map((function(e){var t,r=e.vote_average,c=e.release_date,s=e.id,a=e.poster_path,o=e.title,p=e.overview,l=(t="".concat(r),Number(t).toFixed(1)),h="".concat(c);return(0,i.jsx)(u,{rating:l,release:h,state:n,id:s,poster:a,title:o,overview:p},s)}))})}},881:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(861),c=n(439),s=n(757),a=n.n(s),o=n(689),i=n(87),u=n(791),p=n(510),l=n(856),h=n(983),f=n(196),m="Movies_section__bjPDA",d="Movies_section__title__qQqUS",_="Movies_form__4ow+Z",v="Movies_searchInput__8fq2n",g="Movies_button__GcIka",w=n(184),x=function(){var e,t=(0,o.TH)(),n=(0,u.useState)([]),s=(0,c.Z)(n,2),x=s[0],y=s[1],j=(0,i.lr)(),k=(0,c.Z)(j,2),b=k[0],N=k[1],Z=null!==(e=b.get("searchQuery"))&&void 0!==e?e:"";(0,u.useEffect)((function(){function e(){return(e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.Hq)(Z).then((function(e){return y(e.results)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}""!==Z&&function(){e.apply(this,arguments)}()}),[Z]);return(0,w.jsxs)("div",{className:m,children:[(0,w.jsx)("h1",{className:d,children:"Search movies"}),(0,w.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;N({searchQuery:t.elements.query.value.trim()})},className:_,children:[(0,w.jsx)("input",{type:"text",name:"query",placeholder:"Type what you want to find here",className:v}),(0,w.jsx)(h.Pd.Provider,{value:{color:"#EB9A28",size:"3em"},children:(0,w.jsx)("button",{type:"submit",className:g,children:(0,w.jsx)(l.OHp,{})})})]}),x.length>0&&(0,w.jsx)(f.Z,{movies:x,state:{from:t}})]})}}}]);
//# sourceMappingURL=881.b26f697e.chunk.js.map